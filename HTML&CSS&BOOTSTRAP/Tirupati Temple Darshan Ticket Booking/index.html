<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tirupati Temple Darshan Booking Form</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    .form-container {
      max-width: 600px;
      margin: 30px auto;
    }
    .temple-logo {
      width: 60px;
      height: 60px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container form-container">
    <div class="card shadow rounded p-4">
      <div class="text-center mb-4">
        <!-- You can replace this SVG with your own temple logo image -->
        <svg class="temple-logo" xmlns="http://www.w3.org/2000/svg" fill="gold" viewBox="0 0 24 24" stroke="goldenrod">
          <path d="M12 2L2 22h20L12 2z"/>
          <path d="M12 9v5"/>
          <path d="M9 14h6"/>
        </svg>
        <h2 class="fw-bold">Tirupati Temple Darshan Booking Form</h2>
      </div>

      <form id="bookingForm" novalidate>
        <div class="mb-3 form-floating">
          <input type="text" class="form-control" id="fullName" placeholder="Full Name" required />
          <label for="fullName">Full Name</label>
          <div class="invalid-feedback">Please enter your full name.</div>
        </div>

        <div class="mb-3 form-floating">
          <input type="email" class="form-control" id="email" placeholder="Email Address" required />
          <label for="email">Email Address</label>
          <div class="invalid-feedback">Please enter a valid email address.</div>
        </div>

        <div class="mb-3">
          <label for="mobile" class="form-label">Mobile Number</label>
          <div class="input-group has-validation">
            <select class="form-select col-3" id="countryCode" aria-label="Country Code">
              <option value="+91" selected>+91</option>
              <option value="+1">+1</option>
              <option value="+44">+44</option>
              <!-- Add more country codes if needed -->
            </select>
            <input
              type="tel"
              class="form-control"
              id="mobile"
              placeholder="1234567890"
              pattern="^\d{10}$"
              required
              aria-describedby="mobileHelp"
            />
            <div class="invalid-feedback">Please enter a valid 10-digit mobile number.</div>
          </div>
        </div>

        <fieldset class="mb-3">
          <legend class="col-form-label pt-0">Gender</legend>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="genderMale" value="Male" checked />
            <label class="form-check-label" for="genderMale">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="Female" />
            <label class="form-check-label" for="genderFemale">Female</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="genderOther" value="Other" />
            <label class="form-check-label" for="genderOther">Other</label>
          </div>
        </fieldset>

        <div class="row mb-3">
          <div class="col-md-6 form-floating">
            <input type="date" class="form-control" id="darshanDate" />
            <label for="darshanDate">Darshan Date</label>
          </div>
          <div class="col-md-6 mb-3 mb-md-0">
            <label for="darshanTimeSlot" class="form-label">Darshan Time Slot</label>
            <select id="darshanTimeSlot" class="form-select" aria-label="Darshan Time Slot">
              <option value="Morning" selected>Morning</option>
              <option value="Afternoon">Afternoon</option>
              <option value="Evening">Evening</option>
            </select>
          </div>
        </div>

        <div class="mb-3 form-floating">
          <input
            type="number"
            class="form-control"
            id="numTickets"
            min="1"
            max="10"
            value="1"
            required
            placeholder="Number of Tickets"
          />
          <label for="numTickets">Number of Tickets</label>
          <div class="invalid-feedback">Please select between 1 and 10 tickets.</div>
        </div>

        <fieldset class="mb-3">
          <legend>Seva Type</legend>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="archana" checked />
            <label class="form-check-label" for="archana">Archana</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="abhishekam" checked />
            <label class="form-check-label" for="abhishekam">Abhishekam</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="specialEntry" checked />
            <label class="form-check-label" for="specialEntry">Special Entry Darshan</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="suprabhata" checked />
            <label class="form-check-label" for="suprabhata">Suprabhata Seva</label>
          </div>
        </fieldset>

        <div class="mb-3">
          <label for="idProof" class="form-label">
            ID Proof Upload
            <span
              data-bs-toggle="tooltip"
              data-bs-placement="right"
              title="Upload JPG, PNG, or PDF files only."
              style="cursor: help;"
            >&#9432;</span>
          </label>
          <input
            class="form-control"
            type="file"
            id="idProof"
            accept="image/png, image/jpeg, application/pdf"
          />
        </div>

        <div class="mb-3 form-floating">
          <textarea class="form-control" placeholder="Address" id="address" style="height: 80px;"></textarea>
          <label for="address">Address</label>
        </div>

        <button type="submit" class="btn btn-primary w-100 mb-2">Submit</button>
        <button type="reset" class="btn btn-secondary w-100">Reset</button>
      </form>
    </div>
  </div>

  <!-- Modal -->
  <div
    class="modal fade"
    id="confirmationModal"
    tabindex="-1"
    aria-labelledby="confirmationModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmationModalLabel">Booking Confirmed</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          Your Tirupati Darshan Booking is Confirmed!
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary"
            data-bs-dismiss="modal"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  </div>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>
  <script>
    (() => {
      'use strict';

      const form = document.getElementById('bookingForm');
      const confirmationModal = new bootstrap.Modal(document.getElementById('confirmationModal'));

      // Enable Bootstrap tooltips
      const tooltipTriggerList = [...document.querySelectorAll('[data-bs-toggle="tooltip"]')];
      tooltipTriggerList.forEach(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        event.stopPropagation();

        // Validate form
        if (!form.checkValidity()) {
          form.classList.add('was-validated');
          return;
        }

        // Additional custom validation for number of tickets (1-10)
        const tickets = document.getElementById('numTickets');
        if (tickets.value < 1 || tickets.value > 10) {
          tickets.classList.add('is-invalid');
          return;
        } else {
          tickets.classList.remove('is-invalid');
          tickets.classList.add('is-valid');
        }

        // Mobile pattern validation manually (since pattern only works on submit sometimes)
        const mobileInput = document.getElementById('mobile');
        const mobilePattern = /^\d{10}$/;
        if (!mobilePattern.test(mobileInput.value)) {
          mobileInput.classList.add('is-invalid');
          return;
        } else {
          mobileInput.classList.remove('is-invalid');
          mobileInput.classList.add('is-valid');
        }

        // Show confirmation modal
        confirmationModal.show();

        // Optionally reset form on modal close
        const modalElement = document.getElementById('confirmationModal');
        modalElement.addEventListener('hidden.bs.modal', () => {
          form.reset();
          form.classList.remove('was-validated');
          // Remove validation classes
          [...form.elements].forEach(el => {
            el.classList.remove('is-valid', 'is-invalid');
          });
        }, { once: true });
      });
    })();
  </script>
</body>
</html>
